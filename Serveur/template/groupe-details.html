<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />

    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.10.0/jquery.timepicker.min.js"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.10.0/jquery.timepicker.min.css"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="../static/css/style_groupe.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <title>Détails du Groupe</title>

    <style>
      body {
        background-color: rgb(33, 37, 41); /* Hexadecimal color value */
      }
    </style>
  </head>

  <body>
    <!-- Bootstrap alert -->
    <div id="liveAlertPlaceholder"></div>

    <div class="p-1 bg-dark text-white text-center">
      <h1 class="display-1 mt-4">Détails du groupe : {{ group_name }}</h1>
      <div id="details">
        <h1 class="display-6">Identifiant du groupe:</h1>
        <div class="row mx-auto">
          <div class="col d-flex justify-content-center align-items-center">
            <h1 class="fs-3 text-success">{{ group_id }}</h1>
            <button
              type="button"
              class="btn btn-primary ms-3"
              id="liveAlertBtn"
            >
              Copier l'identifiant du groupe
            </button>
          </div>
        </div>
        <h4>
          <h4>
            Participants du groupe: {% if user_list %} {% set user_count =
            user_list|length %} {% for user in user_list %} {{ user }} {% if
            user_count > 1 %} {% if loop.last %} {% elif loop.revindex == 2 %}
            et {% else %} , {% endif %} {% endif %} {% set user_count =
            user_count - 1 %} {% endfor %} {% else %} Aucun participant trouvé.
            {% endif %}
          </h4>
        </h4>

        <div id="calendar-button">
          <a
            class="btn btn-secondary btn-lg"
            href="/calendrier-groupe?id={{ group_id }}"
            >Voir le calendrier du groupe</a
          >
        </div>
      </div>

      <!-- Formulaire de saisie des créneaux -->

      <form
        id="creneau-form"
        class="custom-width-form"
      >
        <h2 class="display-5 text-center">Ajouter un créneau</h2>

        <div class="mb-3">
          <label for="titre" class="custom-label">Titre :</label>
          <input
            type="text"
            class="form-control border border-3 border-secondary rounded-end"
            id="titre"
            name="titre"
            required
          />
        </div>

        <div class="mb-3">
          <label for="date" class="custom-label">Date :</label>
          <input
            type="text"
            class="form-control border border-3 border-secondary rounded-end"
            id="date"
            name="date"
            required
            autocomplete="off"
          />
        </div>

        <div class="mb-3">
          <label for="heure-debut" class="custom-label">Heure de début :</label>
          <input
            type="text"
            class="form-control border border-3 border-secondary rounded-end"
            id="heure-debut"
            name="heure-debut"
            required
          />
        </div>

        <div class="mb-3">
          <label for="heure-fin" class="custom-label">Heure de fin :</label>
          <input
            type="text"
            class="form-control border border-3 border-secondary rounded-end"
            id="heure-fin"
            name="heure-fin"
            required
          />
        </div>

        <input
          type="hidden"
          id="group-id"
          name="group-id"
          value="{{ group_id }}"
        />

        <div class="mt-4 d-grid gap-2">
          <input
            type="submit"
            value="Ajouter le créneau"
            class="btn btn-primary"
          />
        </div>
      </form>
    </div>

    <div class="d-flex justify-content-center">
      <div class="d-flex" style="max-width: 550px">
        <div class="me-3 mb-5">
          {% if test_admin == 1 %}
          <a
            class="btn btn-outline-danger btn-lg"
            href="/supprime-groupe?id={{ group_id }}"
            >Supprimer le groupe</a
          >
          {% else %}
          <a class="btn btn-outline-danger btn-lg"
          href="/quitter-groupe?id={{ group_id }}"
          >Quitter le groupe</a>
          {% endif %}
        </div>
        <div class="ms-3 mb-5">
          <a class="btn btn-outline-light btn-lg" href="/acceuil"
            >Retour à la page d'accueil</a
          >
        </div>
      </div>
    </div>

    <!-- Script JavaScript pour activer le datepicker et les time pickers -->
    <script src="../static/js/groupe-details.js"></script>
  </body>
</html>
